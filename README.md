# Задача

Необходимо типизировать функцию extend с помощью двух инструментов TypeScript и Flow:
https://gist.github.com/alt-j/9dae0e73b118370cf54f2d08a22e02de

Задача написать максимально надежный (type safety) код.

Результатом задания должны быть две ссылки на typescriptlang.org/play/ и flow.org/try/ содержащие переписанный код.

### Решение

Посмотреть решение локально: 

```
npm i
npm test
```
Далее смотреть
- `src/ts/extend.ts` и `src/ts/extendUsage.ts` - решение на TypeScript - сама функция и примеры вызова
- `src/flow/extend.js` и `src/flow/extendUsage.js` - то же самое на Flow

Решения в песочнице:
- [TypeScript](./typescript-playground-link.txt) скопировать текст ссылки и перейти по ней. В песочнице выставить все галочки в options
- [Flow](https://flow.org/try/#0PTAEAEDMBsHsHcBQiDGsB2BnALqAFgIaYDy86ACgE6wAOAppdgJ4BcoAFANZs6UCW6AOYBKUAF4AfKABGsWNDoF040MWkArOimwA6GtWyxm9HYRJkqtBswDcqDDlCGAytn5C27UZNC8BglTVNbT0DIyYTFzd-O0RjOlAASWdYAFs6IK1cMVAAb0RQQtAQUEAeEEA+EEA2EEBeEHLQQH4QQAEQQFYQQBYQevLAbhAqwA4QQCEQQBkQABpQQHEQPrrALhBOwDkQUbKq5r7QQEYQQGkQQdAe0EBBEG6atdLQcpXAKRBmyYnSoYKiktrQQHkQY52+wAYQWsAmEFmdgdBqt6+aJCW6FADanDorCB7kEAF02EomHYAL6xYAAKgxBQxoEA+CCNcqfZqNR5LEbjOr1EltD7VNaAThBjmcLstHt8yX0ds8AET1bo7SY9Uo8jh9HTNHS7cqAdhBWnTDrsGuUKoBJEAGM1APNyKJ5OK2nW2PPQdHgqg0WR5wh0OP14BoBEoBFSeUy2hRoFgGjtlDo2AArpQsHkAEJyBRKFE44CISD+9DaPgYUB8TDkaAEARu7DsL3qRHoJjCNiyeSKZT5IopyAcKKwnQoAjQaC5jSiACEYhyAHIwXmsubgtg4d3RJWq0VfQGg6BIE3MHQ7FWo6DQGgsLh9EZwvQC0xAhaQoI-ZZDPFiJBW+phEvJ37A8ot2eIgkuzl0P7m6AAD7f1dVp8d1fLtByyUJt3iVFkExbFQFxQAsEHKeoekaQBhECWBoaVGHo9mFNZml2T5ygZV5PkBcpWlqQBmEDqHpDX+ZpBS6AYhUAURBmXOS4iVAT5QEAMRBmk6ZoiKZE5OPFW04IgB0nRdXIwzLSNQDBAATOg6BoMQ52gBc4XxRpthlAFRmaaoem2AADNx-ToCzCOI0jAUmJCUNQmYuWeFpJlQxodh6T5ahtKT7UdZ1XUPbAPWwR1j1wQA8EBZS5QFaTpPLeHZAAkQFDTJ6R4pTi6plU6VDsOWL58Pski+jIoLcRC2S8h0Jrsw9fttEwUAEvEtZpUqxzSm2FLnmc5DCTIsy8tAQAEEEaKjUNKUy+h6nY6iMt4TImgb9QnCyP2bOy6Ms+M1MgAQ6BUg6qNqAy0Pc7laogKcHw63IWujaCwDfL7vp+36-q+xASgAMTgM1JjeSolm5BjQHm5oMN46kWiotCZSFJqbRKf7sZx37AbAeJVAANwYOACBUgBGFQAB4ABU2GSNIMgikZaYphmUnSbMpHYNSNJLcNyxGaLKFithaZGVI+AADwEdnQDZ7wpFp0AADIFYpuwSkJ4gScoMmVIAJhp+mkk55mh1Z+XGa5lmFcNjmme5jg+ZoAXFPQYWYr9cXJZluXxYpv3ZfQcXDaVhW1Y1qPacNrWCZfYnSdgcmAGYTcd23LY1zOLayVmHbNp27dp1Pc+d3n1LdmRBaUL3RZ9hXg4DjXm9D+22-F1OI5V9W2Zj42+9T9EE-oJP9ZTlSVHYEWxaLrP89ADGpZDzA2AAQUoJ0mGpgB+G28+0CQI4P7N46cRPdeT8mABEq+n133YjT2nG97By7t5f-awDet4IHf97m25ifIBEVz7rkcHQaW2A6DoBUmwK+E9b732-OPA24hkBxgTNgJMygoEwLgZXDSxBKC0zfk-csP556H2wPXWKJCACy395aAOLtnDGMU16gE3tvPep8IrHw-kOPIq4FC4Fno3fhQ5byFDEaAR+NcPaxCrCUBKjQ3grDeEtMizQjh+T6KhN4fEeiaiosVFY5RnI0VACNFCRIPi5SCkUPgNYZ4vlgDWV2JCyEN2yCBbspZn6jhEROIorsH5V28eQxRz8bz-mca4iR2BGHMPECBY6dBTominr+V+viUkhypm+UAe1oBjniaE7AeBqBmhNGaAAolvWAlB2DdiSQUuWvg8CwE-FPaQCQlCgW0KAeAeBYHyPvsU6ydB2yjhkROKMoTChJOnu0ygTDClCKyHE5coA6A6QSOOUJ4ScjaQXPMqsKychEJoFE3xWztA7KWZwvQ-pMB4Bnm-Dp6AKZPMKCuKskBmkcDkXmT0NZOHlKWdWDg7Y8xQuhUUdcOCPyLgqaARZSywXXLzA87AcT0VAsoBwCBuBIT7gEJ6NsITEWFBcRwMwpAKDUHoIwJgDYmwtjzCMclwgEW0qrKS0ARMmwqDzBCKEcILkCqFamHh-8KGDJyCK6Aat1byvZXKv+TB2AqoJQKicJREKjXQkcPkAohTNFFGJVkPVtilHSn5T4PUvI+SdYFdF0L6U3LVcK0Vqt1bsFTOmTM6Bsy6qbKIXJWrt58ppQa0JQrMCUBQHuFQSSJVMClZ6gVciUBwBNHi6VCaYVBswBq-lJaln5owK+Dg7Bk0oF9RqnQMb-4NpTaIXevgU2gDYGCBEoAkTFmodmP5Vb-l7IOfGidE4a0mmnh2ptAaUxpgzFmCKS6u09qbWwHUe4R1SO2cWhNmLZ15NipmvSOR8GwJUjckY866AjAjdAPFfKT3Qo9PshcM6J0ZvJdev10BP1LLPYi8Dy5VwArvNOZQSTUSxHxmk3GqG8YlCaG8T4dEBj0gIs6mURI1jIbQ6R76iA5G+kwEUvZ0C70z0oDZEYuQh1sAAKwYuYzINgAA2R9bAKaG1TiMeBAAWHjPGMVxMo3QTAxsb10cIdMrjBB2OcZKZ+aAXHpC8fU6UkYGSsnnWY6m0AgnhPyLYKJ1ObGUTSb9KAKj6cFMEPvSx1ToA2MjB02ZoT6mWM+ckyiEYBKsZkfC8h8oWULGjDwzxNYhHnUkfC2R5DvFyh9ENNhAiGXQAtAyjlZ4AIFYvkwCgfgNBcAOp2E6nqvFwYmVIjlxK7wYYdFaKxCijw+jIZ6BY0AQMAAyxAADqeXUJUTeFDIrgIiVLylJSoaZRHX+SJMhioNQ6jrG6KsHqGWWiABEQN4XEDKbAO6haokxjEzBGA8d4kwbHHf4oJP4gBZEAmEyc7l3jH2uqARP7jwdgAhuCUcUkoGIdGqN12oIx2vqJlHDHRHlQD0Rwh0ToAxEsOIItVp1a2SgAFoifE5J6Tsn5OKeU6p8h+7oBIbJVSqsLo8Ndh9EJDRJkfQejIRlEY8yTxQC84Oz0SYfkxpvE6DxCYhImRvFmnDaofQQdgGctLxkCxIbLEsW8XngxoZI2dUcAaouei1GuKAMHUoKhUV27tzYpSDTbEM2dFSaXkp0mInl5oEueh8+2O9uof2iIyg2w8dg6XMs9GwtsXLtNSvlb4JVpUqE9hElqJz7nPRefGOaEyT40vyjWLl3NBaiu3jCEQLewh7m1PBbyNx0AQWVNsG7AQbs3mW8EGkCgbs6mwRmaDqAQ2hsRip3TnCOJVe3Osc83pzTzezMAAYO9D8X-5mfYIg4j9TnpOvYJRNDC8zxvSk-FP3rBK3zAKl2++Ys+37scIRj6frx5jjdeAu6bsyPUAAetSYewxjnhtatFkKJXmfuwGcs+i-rXtpp-iMJAXEiUAAMJKDoBGBricqgAWRT52T9KNhvIJCBKUKb56SpgpgJhpAOg4LSAKAjJ8BVJYFHraB2RgiGykHKCOjbxTp0DpDoC6AcAABKmSDAsCKAsm-aFMekrBE+YBrm7ANes+7+DeTet+IW58KB6AaBuAjYX42BZ+uBWgBABBGmqQ-SxKJBq65BaAqQVBfANBCQ8A9BeAjBoCQ4LBbB5BQ62q3BvB-B7AQhkAIhCY4hykkhykbBFeU+7Azu2ST+8+0BihsBjeUm6hqB6BOhqqehrmdkjhDBFkMR50uBPScCTgsAWBXipCb8Bh+BC4bA9SThDAoABRU8FhZBAg1hth9hdBDBRBgy0hmMYAJCTRcCmSLuoRpBHU7RlBBA1BtBuRzhFkTB2ALBO+Uo-hwhvowRXCFh0hykO+FeyGgA6CCtCMR-B7BtD2I7brCPaTAE4TBbCCizClR-D57lAy6gDF4K7LClLIbwRPa-47AnGdBaJnHvBc6NZCigAE4C5-bKhQ6dCw4ZYqioS7BAkS7JSm5vADQQnlD4ZrArDqI7BrDjQ9A5YgE9BpY7AET06-7FSjAFZjC6L-BR7NA0TtgUYOZUaiYqBRHKYabNgL5v5JFBZxJAA) - перейти по ссылке

**Примечание**

В Typescript я старался максимально не трогать код исходной функции - так как это могло бы перерости в полное ее переписывание.

Во Flow пришлось кое-что переделать, в силу природы самого Flow, который пытается предсказать будущее поведение программы в рантайме. Потому добавил нескольо type refinement'ов (т.е. определений типа переменной в рантайме).